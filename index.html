<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bubble Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://cdn.jsdelivr.net/npm/matter-js@0.20.0/build/matter.min.js"></script>
<style>
:root{
  --purple:#9b8ae0;   --purple-text:#6b57c0;
  --blue:#74cef9;     --blue-text:#008fe0;
  --green:#b8e68f;    --green-text:#4da623;
  --orange:#f8d79f;   --orange-text:#c6831f;
  --pink:#ff9fc6;     --pink-text:#ff2e76;
  --bg:#fff4f0;
}
html,body{
  height:100%; margin:0; background:var(--bg); font-family:"Courier New", monospace; overflow:hidden;
}
header{
  position:fixed; inset:0 0 auto 0; height:58px; display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; z-index:1000; background:transparent; pointer-events:none;
}
header h1{ margin:0; font-size:clamp(18px, 2.6vw, 32px); font-weight:700; color:#222; pointer-events:auto; }
header a{ pointer-events:auto; font-weight:700; text-decoration:none; color:#1a73e8; font-size:clamp(14px, 2vw, 22px); }

#bubble-stage{ position:fixed; inset:0; }
.bubble{
  position:absolute; transform:translate(-50%,-50%);
  display:flex; align-items:center; justify-content:center; text-align:center;
  border-radius:50%; border:1px solid rgba(0,0,0,0.08); box-shadow:0 6px 18px rgba(0,0,0,0.06);
  overflow:hidden; transition:box-shadow .25s ease, transform .25s ease;
}
.bubble.clickable{ cursor:pointer; }
.bubble.clickable:hover{ transform:translate(-50%,-50%) scale(1.08); box-shadow:0 10px 25px rgba(0,0,0,0.1); }

.bubble-inner{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; padding:10%; }
.content{
  line-height:1.2; white-space:pre-wrap; word-break:break-word; max-width:76%; color:#1a1a1a;
  font-size:clamp(12px, 1.6vw, 20px);
}
.heading{ position:absolute; inset:0; pointer-events:none; }
.heading text{ font-weight:700; letter-spacing:.02em; }

.image-fill{ position:absolute; inset:0; background-size:cover; background-position:center; transition:opacity .25s ease; }
.image-fill.child{ opacity:0; }
.bubble.image:hover .image-fill.child{ opacity:1; }
.bubble.image:hover .image-fill.current{ opacity:0; }

.research-container{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.research-grid{
  position:relative; width:80%; height:80%; display:grid; grid-template-columns:repeat(3,1fr); gap:4%; pointer-events:none;
}
.research-grid .mini{
  pointer-events:auto; border-radius:50%; border:1px solid rgba(0,0,0,0.08);
  box-shadow:0 2px 10px rgba(0,0,0,0.05); padding:8%; text-align:center;
  font-size:clamp(11px, 1.3vw, 16px); color:#1a1a1a;
  display:flex; align-items:center; justify-content:center; aspect-ratio:1/1;
}

.c-purple{background:var(--purple);} .t-purple{color:var(--purple-text); fill:var(--purple-text);}
.c-blue{background:var(--blue);}     .t-blue{color:var(--blue-text);     fill:var(--blue-text);}
.c-green{background:var(--green);}   .t-green{color:var(--green-text);   fill:var(--green-text);}
.c-orange{background:var(--orange);} .t-orange{color:var(--orange-text); fill:var(--orange-text);}
.c-pink{background:var(--pink);}     .t-pink{color:var(--pink-text);     fill:var(--pink-text);}
@media (max-width: 640px){ .content{ max-width:86%; font-size:clamp(12px, 3.6vw, 18px); } }
</style>
</head>
<body>

<header>
  <h1 id="hdrTitle">Hello World</h1>
  <a id="hdrLink" href="https://yourusername.github.io">yourusername.github.io</a>
</header>

<div id="bubble-stage"></div>

<script>
const { Engine, Runner, World, Bodies, Body, Events } = Matter;
const stage = document.getElementById('bubble-stage');
let engine, runner, domBubbles = [];

function vw(){ return Math.max(document.documentElement.clientWidth, window.innerWidth || 0); }
function vh(){ return Math.max(document.documentElement.clientHeight, window.innerHeight || 0); }

function getSizes(){
  const minSide = Math.min(vw(), vh());
  return {
    normalR: Math.max(85, Math.floor(minSide*0.17)),
    largeR: Math.floor(minSide*0.38),
    imageR: Math.floor(minSide*0.23)
  };
}

function makeBubble({x,y,r,colorClass,textColorClass,heading,content,clickable=false,type='text',images=null,id=null}){
  const el = document.createElement('div');
  el.className = `bubble ${colorClass} ${clickable?'clickable':''} ${type==='image'?'image':''}`;
  el.style.width = el.style.height = `${r*2}px`;
  el.setAttribute('aria-label', heading||content||'Bubble');

  const svg = document.createElementNS("http://www.w3.org/2000/svg","svg");
  svg.classList.add('heading'); svg.setAttribute('viewBox','0 0 100 100');
  const defs = document.createElementNS("http://www.w3.org/2000/svg","defs");
  const path = document.createElementNS("http://www.w3.org/2000/svg","path");
  const pathId = `arc-${Math.random().toString(36).slice(2)}`;
  path.setAttribute('id', pathId);
  path.setAttribute('d','M10,60 A40,40 0 0,1 90,60');
  defs.appendChild(path); svg.appendChild(defs);
  const text = document.createElementNS("http://www.w3.org/2000/svg","text");
  text.classList.add(textColorClass);
  const textPath = document.createElementNS("http://www.w3.org/2000/svg","textPath");
  textPath.setAttributeNS('http://www.w3.org/1999/xlink','href',`#${pathId}`);
  textPath.setAttribute('startOffset','50%'); textPath.setAttribute('text-anchor','middle');
  textPath.textContent = heading||''; text.appendChild(textPath); svg.appendChild(text);
  el.appendChild(svg);

  const inner = document.createElement('div'); inner.className='bubble-inner';
  const contentBox = document.createElement('div'); contentBox.className='content';
  contentBox.textContent = content||''; inner.appendChild(contentBox); el.appendChild(inner);

  if(type==='image' && images){
    const current = document.createElement('div'); current.className='image-fill current'; current.style.backgroundImage=`url('${images.current}')`;
    const child = document.createElement('div'); child.className='image-fill child'; child.style.backgroundImage=`url('${images.child}')`;
    el.appendChild(current); el.appendChild(child);
  }

  if(type==='research'){
    const rc = document.createElement('div'); rc.className='research-container';
    const grid = document.createElement('div'); grid.className='research-grid';
    const topics = [
      { text:"User-Centric Design:\nMake UX fun & functional.", cls:'c-purple t-purple' },
      { text:"Education:\nBalance tech in learning.", cls:'c-blue t-blue' },
      { text:"Social Good:\nEnable informed tech decisions.", cls:'c-green t-green' }
    ];
    topics.forEach(t=>{
      const mini = document.createElement('div'); mini.className=`mini ${t.cls}`; mini.textContent=t.text;
      grid.appendChild(mini);
    });
    rc.appendChild(grid); el.appendChild(rc);
  }

  if(clickable && id==='try'){ el.addEventListener('click', ()=>window.location.href='project.html'); }

  stage.appendChild(el);
  const body = Bodies.circle(x,y,r,{ restitution:0.98, frictionAir:0.012, friction:0.0001 });
  World.add(engine.world, body);

  domBubbles.push({el, body, r});
}

function buildWorld(){
  if(engine){ World.clear(engine.world, false); engine=null; }
  stage.innerHTML=''; domBubbles=[];

  engine = Engine.create(); engine.world.gravity.x=0; engine.world.gravity.y=0;
  const w=vw(), h=vh(), thick=200;
  const walls = [
    Bodies.rectangle(w/2,-thick/2,w+thick*2,thick,{isStatic:true}),
    Bodies.rectangle(w/2,h+thick/2,w+thick*2,thick,{isStatic:true}),
    Bodies.rectangle(-thick/2,h/2,thick,h+thick*2,{isStatic:true}),
    Bodies.rectangle(w+thick/2,h/2,thick,h+thick*2,{isStatic:true}),
  ];
  World.add(engine.world, walls);

  const sizes = getSizes();
  makeBubble({x:w*0.25, y:h*0.4, r:sizes.largeR, colorClass:'c-purple', textColorClass:'t-purple', heading:'Research', type:'research'});
  makeBubble({x:w*0.6, y:h*0.35, r:sizes.normalR, colorClass:'c-blue', textColorClass:'t-blue', heading:'Try My Thesis Project', clickable:true, id:'try', content:'Click to explore!'});
  makeBubble({x:w*0.8, y:h*0.7, r:sizes.imageR, colorClass:'c-green', textColorClass:'t-green', heading:'Image Bubble', type:'image', images:{current:'https://via.placeholder.com/200', child:'https://via.placeholder.com/200/ff7f7f'}});

  runner = Runner.create(); Runner.run(runner, engine);
}

buildWorld();

window.addEventListener('resize', ()=>{ buildWorld(); });

let mousePos={x:vw()/2,y:vh()/2};
window.addEventListener('mousemove', e=>{ mousePos={x:e.clientX,y:e.clientY}; });
(function mouseForceLoop(){
  domBubbles.forEach(({body})=>{
    const dx=body.position.x-mousePos.x;
    const dy=body.position.y-mousePos.y;
    const distSq = dx*dx+dy*dy;
    if(distSq<20000){
      Body.applyForce(body, body.position, {x:dx*0.00008, y:dy*0.00008});
    }
    Body.applyForce(body, body.position, {x:(Math.random()-0.5)*0.0003, y:(Math.random()-0.5)*0.0003});
  });
  requestAnimationFrame(mouseForceLoop);
})();
</script>

</body>
</html>
