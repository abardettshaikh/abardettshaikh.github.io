<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio</title>
<style>
    body {
        margin: 0;
        font-family: 'Courier New', monospace;
        background-color: #fff9f7; /* warm near-white peach */
        overflow: hidden;
    }
    header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: space-between;
        padding: 10px 20px;
        background: transparent;
        z-index: 10;
        font-size: 1.2em;
    }
    header a {
        color: #0066cc;
        text-decoration: none;
    }
    canvas {
        display: block;
    }
    .pulse {
        animation: pulse 3s infinite ease-in-out;
    }
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
</style>
</head>
<body>
<header>
    <div>Hello World</div>
    <a href="https://yourusername.github.io">yourusername.github.io</a>
</header>

<canvas id="world"></canvas>

<script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
<script>
const colors = [
    "#8b7bc8", // softer purple
    "#4fc0f0", // softer blue
    "#80c75e", // softer green
    "#f0b562", // softer orange
    "#ff699c"  // softer pink
];

const { Engine, Render, Runner, World, Bodies, Body, Events, Mouse, MouseConstraint, Composite } = Matter;

const engine = Engine.create();
const world = engine.world;
world.gravity.y = 0;

const canvas = document.getElementById('world');
const render = Render.create({
    canvas: canvas,
    engine: engine,
    options: {
        wireframes: false,
        background: 'transparent',
        width: window.innerWidth,
        height: window.innerHeight
    }
});
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);

function randomColor(excludeIndex) {
    let idx;
    do {
        idx = Math.floor(Math.random() * colors.length);
    } while (idx === excludeIndex);
    return colors[idx];
}

function createBubble(x, y, r, label, text, color, image, hoverImage, clickable, pulse) {
    const bubble = Bodies.circle(x, y, r, {
        restitution: 0.9,
        frictionAir: 0.02,
        render: {
            fillStyle: color
        }
    });
    bubble.label = label;
    bubble.meta = { text, image, hoverImage, clickable, pulse };
    return bubble;
}

// Sizes
const mainBubbleSize = Math.min(window.innerWidth, window.innerHeight) / 6;
const photoSize = mainBubbleSize * 0.85;
const subBubbleSize = mainBubbleSize * 0.6;

const bubbles = [];

// Photo bubble
const photoBubble = createBubble(window.innerWidth/2, window.innerHeight/2, photoSize, "Photo", "", colors[0], "IMG_9361.jpg", "IMG_5766_Original.jpg", false, false);
bubbles.push(photoBubble);

// Education bubble
bubbles.push(createBubble(200, 200, mainBubbleSize, "Education",
`BEng X at Y
MSc A at B
Interested in relevant PhD opportunities`,
colors[1], null, null, false, false));

// Experience bubble
bubbles.push(createBubble(400, 300, mainBubbleSize, "Experience",
`X years of experience
Java, Python, C#, JavaScript`,
colors[2], null, null, false, false));

// Research bubble
bubbles.push(createBubble(600, 200, mainBubbleSize, "Technology Research Interests",
"", colors[3], null, null, false, false));

// Research sub-bubbles
bubbles.push(createBubble(750, 150, subBubbleSize, "User Centric Design",
`Why can't we make user experience fun without losing functionality or efficiency?`,
colors[4], null, null, false, false));
bubbles.push(createBubble(650, 100, subBubbleSize, "Education",
`How is the learning experience evolving with tech and society? Balance tech support vs dependence?`,
colors[0], null, null, false, false));
bubbles.push(createBubble(700, 300, subBubbleSize, "Social Good",
`How can we create a more tech-literate society? Enable informed public policy decisions?`,
colors[1], null, null, false, false));

// Project bubble
bubbles.push(createBubble(300, 400, mainBubbleSize, "Try My Thesis Project â†’",
"", colors[4], null, null, true, true));

// Add to world
World.add(world, bubbles);

// Walls
const walls = [
    Bodies.rectangle(window.innerWidth/2, -30, window.innerWidth, 60, { isStatic: true }),
    Bodies.rectangle(window.innerWidth/2, window.innerHeight+30, window.innerWidth, 60, { isStatic: true }),
    Bodies.rectangle(-30, window.innerHeight/2, 60, window.innerHeight, { isStatic: true }),
    Bodies.rectangle(window.innerWidth+30, window.innerHeight/2, 60, window.innerHeight, { isStatic: true })
];
World.add(world, walls);

// Random start burst
bubbles.forEach(b => {
    Body.setVelocity(b, {
        x: (Math.random() - 0.5) * 15,
        y: (Math.random() - 0.5) * 15
    });
});

// Mouse
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
    mouse: mouse,
    constraint: { stiffness: 0.2, render: { visible: false } }
});
World.add(world, mouseConstraint);

// Interaction
document.addEventListener('mousemove', () => {
    bubbles.forEach(b => {
        Body.setVelocity(b, {
            x: b.velocity.x * 0.98,
            y: b.velocity.y * 0.98
        });
    });
});

Events.on(mouseConstraint, "mousedown", event => {
    const body = event.source.body;
    if (body && body.meta && body.meta.clickable) {
        window.location.href = "YOUR_UNITY_PROJECT_PAGE_URL";
    }
});

// Render overlay text & images
(function renderOverlay(){
    const ctx = render.context;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    Render.world(render);

    bubbles.forEach(b => {
        const { x, y } = b.position;
        const r = b.circleRadius;
        ctx.save();
        ctx.translate(x, y);
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillStyle = "white";
        ctx.font = `bold ${r/4}px 'Courier New', monospace`;

        if (b.meta.image) {
            const img = new Image();
            img.src = b.meta.hover && b.meta.hoverImage ? b.meta.hoverImage : b.meta.image;
            ctx.beginPath();
            ctx.arc(0, 0, r, 0, Math.PI * 2);
            ctx.closePath();
            ctx.clip();
            ctx.drawImage(img, -r, -r, r*2, r*2);
        } else {
            // Heading
            ctx.fillStyle = "rgba(0,0,0,0.8)";
            ctx.fillText(b.label, 0, -r/2.5);
            // Body text
            ctx.font = `${r/6}px 'Courier New', monospace`;
            ctx.fillStyle = "rgba(0,0,0,0.7)";
            const lines = b.meta.text.split("\n");
            lines.forEach((line, i) => {
                ctx.fillText(line, 0, (i * (r/5)) - r/10);
            });
        }
        ctx.restore();
    });
    requestAnimationFrame(renderOverlay);
})();

window.addEventListener('resize', () => {
    render.canvas.width = window.innerWidth;
    render.canvas.height = window.innerHeight;
});
</script>
</body>
</html>
